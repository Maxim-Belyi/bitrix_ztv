# Bitrix ZTV Project

![PHP](https://img.shields.io/badge/php-8.0%2B-777BB4?style=flat-square&logo=php&logoColor=white)
![Bitrix Framework](https://img.shields.io/badge/framework-1C--Bitrix-green?style=flat-square)
![Status](https://img.shields.io/badge/status-development-orange?style=flat-square)

Проект сайта, разработанный на базе CMS "1С-Битрикс: Управление сайтом". Репозиторий содержит файлы публичной части, шаблоны сайта и пользовательские классы.

## Структура проекта

*   **local/templates/x-bitrix/** — Основной шаблон сайта (верстка, header, footer).
*   **local/php_interface/classes/** — Пользовательские классы и хелперы.
*   **local/components/** — Кастомизированные компоненты.
*   **public/** — Файлы публичной части (index.php, разделы news, online и др.).

## Функциональность

### Работа с меню
Реализована логика построения многоуровневого меню с использованием стандартных компонентов Битрикс и кастомных шаблонов. Поддерживается вложенность разделов.

### Работа с пользователями (UserHelper)
В проекте используется гибридный подход (Old Kernel + D7) для управления пользователями. Реализован класс `UserHelper` со следующими методами:

*   **createNewUser** — создание пользователя через `CUser` (с поддержкой пользовательских свойств `UF_*`).
*   **getList** — выборка пользователей через ORM `\Bitrix\Main\UserTable` (фильтрация, сортировка).
*   **updateByFilter** — массовое обновление пользователей, найденных по фильтру.
*   **deleteInactiveUser** — удаление неактивных учетных записей.

## Требования

*   PHP >= 8.0
*   MySQL >= 5.7 / 8.0
*   1С-Битрикс: Управление сайтом (любая редакция)

## Требования к окружению

Для корректной работы кода необходимы следующие пользовательские поля (User Fields) в административной панели Битрикс:

| Код поля | Тип | Описание |
| :--- | :--- | :--- |
| `UF_MY_STRING` | Строка | Пользовательское строковое свойство |
| `UF_MY_NUMBER` | Число | Пользовательское числовое свойство |
| `UF_MY_BOOL` | Да/Нет (Boolean) | Флаг активности/статуса |

## Установка

1.  Развернуть "1С-Битрикс: Управление сайтом" (редакция Стандарт и выше).
2.  Скопировать содержимое папки `local` в корень сайта.
3.  Настроить пользовательские поля в разделе *Настройки -> Настройки продукта -> Пользовательские поля*.
4.  Актуализировать файлы меню в публичной части.